"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[261],{7605:function(e,n,s){s(2791);var a=s(6048),t=s.n(a),i=s(184);n.Z=function(e){var n=e.pageCount,s=e.handlePageClick;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(t(),{previousLabel:"Previous",pageCount:n,marginPagesDisplayed:2,pageRangeDisplayed:3,nextLabel:"Next",onPageChange:s,containerClassName:"pagination pagination-sm justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",breakLabel:"...",previousLinkClassName:"page-link",nextLinkClassName:"page-link",disabledClassName:"paginationDisabled",activeClassName:"active",previousClassName:"page-item",nextClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link"})})}},3261:function(e,n,s){s.r(n);var a=s(5861),t=s(885),i=s(7757),r=s.n(i),c=s(2791),o=s(8820),l=s(7605),d=s(3504),u=s(2426),h=s.n(u),p=s(577),m=(s(5462),s(1036)),x=s(6196),f=s(6030),g=s(8062),j=s(3360),v=s(2591),C=s(7042),k=s(184);n.default=function(e){var n=e.setSearch,s=e.searching,i=(0,c.useState)([]),u=(0,t.Z)(i,2),N=u[0],b=u[1],L=(0,f.v9)((function(e){return e.userLogin})).userInfo,w=(0,c.useState)(""),A=(0,t.Z)(w,2),I=A[0],y=A[1];function Z(){return E.apply(this,arguments)}function E(){return(E=(0,a.Z)(r().mark((function e(){var n,s,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{Authorization:"Bearer ".concat(L.token)}},e.next=4,x.y.get("/favri/users",n);case 4:s=e.sent,b(s.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),a=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,y(a);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function z(){return z=(0,a.Z)(r().mark((function e(n){var s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e \u043e\u0431\u044c\u0435\u043a\u0442 \u0431\u0435\u0437 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f?")){e.next=4;break}return s={headers:{Authorization:"Bearer ".concat(L.token)}},e.next=4,x.y.delete("/favri/users/remove/".concat(n),s).then((function(){p.Am.success("C\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430!"),setTimeout((function(){Z()}),1e3)})).catch((function(e){return y(e.response.data.message)}));case 4:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}(0,c.useEffect)((function(){Z()}),[]);var T=(0,c.useState)(0),P=(0,t.Z)(T,2),D=P[0],M=P[1],_=20*D,O=Math.ceil(N.length/20);return(0,k.jsx)(g.o,{title:"TIJORAT: \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",children:(0,k.jsxs)(m.W2,{children:[I&&(0,k.jsx)(C.X,{variant:"danger",children:I}),(null===L||void 0===L?void 0:L.IsAdmin)&&(0,k.jsx)(d.rU,{to:"/user/add",className:"d-flex justify-content-end",children:(0,k.jsx)(j.Z,{className:"box mb-3",size:"md",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u041d\u043e\u0432\u044b\u0439 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})}),(0,k.jsxs)(v.Z,{className:"box",striped:!0,bordered:!0,hover:!0,size:"sm",children:[(0,k.jsx)("thead",{className:"table-dark",children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{scope:"col",children:"ID"}),(0,k.jsx)("th",{scope:"col",children:"FULLNAME"}),(0,k.jsx)("th",{scope:"col",children:"EMAIL"}),(0,k.jsx)("th",{scope:"col",children:"ORGANIZATION NAME"}),(0,k.jsx)("th",{scope:"col",children:"ACTIVE"}),(0,k.jsx)("th",{scope:"col",children:"CREATED TIME"}),(null===L||void 0===L?void 0:L.IsAdmin)&&(0,k.jsx)("th",{scope:"col-sm-2",children:"ACTION"})]})}),(0,k.jsx)("tbody",{children:N.filter((function(e){return""===n||e.fullname.toLowerCase().includes(s.toLowerCase())||e.email.toLowerCase().includes(s.toLowerCase())||e.organization_name.toLowerCase().includes(s.toLowerCase())?e:void 0})).slice(_,_+20).map((function(e){return(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{scope:"row",children:e.id}),(0,k.jsx)("td",{children:e.fullname}),(0,k.jsx)("td",{children:e.email}),(0,k.jsxs)("td",{children:[e.organization_name,"(",e.organization_id,")"]}),(0,k.jsx)("td",{children:e.active}),(0,k.jsx)("td",{children:h()(e.created_time).format("llll")}),(null===L||void 0===L?void 0:L.IsAdmin)&&(0,k.jsx)("td",{className:"col-sm-2",children:(0,k.jsxs)(m.PJ,{children:[(0,k.jsx)(d.rU,{to:"/user/update/".concat(e.id),children:(0,k.jsx)(o.$iz,{className:"Edit box"})}),(0,k.jsx)(o.VPh,{className:"Delete box",onClick:function(){return function(e){return z.apply(this,arguments)}(e.id)}})]})})]},e.id)}))})]}),(0,k.jsx)(m._p,{children:(0,k.jsx)(l.Z,{pageCount:O,handlePageClick:function(e){var n=e.selected;M(n)}})}),(0,k.jsx)(p.Ix,{})]})})}}}]);
//# sourceMappingURL=261.6fa97810.chunk.js.map