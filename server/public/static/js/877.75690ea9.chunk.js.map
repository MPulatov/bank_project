{"version":3,"file":"static/js/877.75690ea9.chunk.js","mappings":"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","sources":["components/Pagination/Pagination.jsx","pages/km_section/km_terminal/Terminal.jsx"],"sourcesContent":["import React from \"react\";\nimport ReactPaginate from \"react-paginate\";\n\nconst Pagination = ({ pageCount, handlePageClick }) => {\n    return (\n        <>\n            <ReactPaginate\n                previousLabel={\"Previous\"}\n                pageCount={pageCount}\n                marginPagesDisplayed={2}\n                pageRangeDisplayed={3}\n                nextLabel={\"Next\"}\n                onPageChange={handlePageClick}\n                containerClassName={\"pagination pagination-sm justify-content-end\"}\n                pageClassName={\"page-item\"}\n                pageLinkClassName={\"page-link\"}\n                breakLabel={\"...\"}\n                previousLinkClassName={\"page-link\"}\n                nextLinkClassName={\"page-link\"}\n                disabledClassName={\"paginationDisabled\"}\n                activeClassName={\"active\"}\n                previousClassName={\"page-item\"}\n                nextClassName={\"page-item\"}\n                breakClassName={\"page-item\"}\n                breakLinkClassName={\"page-link\"}\n            />\n        </>\n    )\n}\n\nexport default Pagination\n","import React, { useState, useEffect } from \"react\";\nimport Pagination from \"../../../components/Pagination/Pagination\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { AiOutlineDelete, AiOutlineEdit } from \"react-icons/ai\";\nimport { Link } from \"react-router-dom\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport {\n  Container,\n  Paginate,\n  Icons,\n} from \"../../../components/Style/styledComponent/StyledComponents\";\nimport { useSelector } from \"react-redux\";\nimport { Button, Table } from \"react-bootstrap\";\nimport { MainScreen } from \"../../../components/MainScreen/MainScreen\";\nimport { ErrorMessages } from \"../../../components/ErrorMessage\";\nimport { $host } from \"../../../http\";\n\nconst Terminal = ({ setSearch, searching }) => {\n  // FETCHING DATA\n  const [Terminal, setTerminal] = useState([]);\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n  // const navigate = useNavigate();\n  const [error, setError] = useState(\"\");\n\n  // Pagination -------------------------------\n  const [pageNumber, setPageNumber] = useState(0);\n  const PrePage = 20;\n  const pagesVisited = pageNumber * PrePage;\n  const pageCount = Math.ceil(Terminal.length / PrePage);\n  const handlePageClick = ({ selected }) => {\n    setPageNumber(selected);\n  };\n\n  // AXIOS\n  async function getTerminals() {\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${userInfo.token}`,\n        },\n      };\n      const response = await $host.get(\"/favri/terminal\", config);\n      setTerminal(response.data);\n    } catch (error) {\n      const message =\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message;\n      setError(message);\n    }\n  }\n\n  // useEffect(() => {\n  //   getTerminals();\n  //   if (!userInfo) {\n  //     navigate(\"/login\");\n  //   }\n  // }, [userInfo, navigate]);\n  useEffect(() => {\n    getTerminals();\n  }, []);\n\n  // Delete Button ---------------------------------------------------------\n  const handleDeleteContent = async (id) => {\n    if (\n      window.confirm(\n        \"Вы действительно хотите удалить это обьект без возможности восстановления?\"\n      )\n    ) {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${userInfo.token}`,\n        },\n      };\n      await $host\n        .delete(`/favri/terminal/remove/${id}`, config)\n        .then(() => {\n          toast.success(\"Cодержимое успешно удалена!\");\n          setTimeout(() => {\n            getTerminals();\n          }, 1000);\n        })\n        .catch((error) => setError(error.response.data.message));\n    }\n  };\n\n  return (\n    <MainScreen title={\"KM: Терминал\"}>\n      <Container>\n        {error && <ErrorMessages variant=\"danger\">{error}</ErrorMessages>}\n\n        {userInfo?.IsAdmin && (\n          <Link to={\"/terminal/add\"} className=\"d-flex justify-content-end\">\n            <Button className=\"box mb-3\" size=\"md\">\n              Создать Новый Терминал\n            </Button>\n          </Link>\n        )}\n\n        <Table className=\"box\" striped bordered hover size=\"sm\">\n          <thead className=\"table-dark\">\n            <tr>\n              <th scope=\"col\">ID</th>\n              <th scope=\"col\">Currency</th>\n              <th scope=\"col\">Code</th>\n              <th scope=\"col\">Model</th>\n              <th scope=\"col\">Devicesn</th>\n              <th scope=\"col\">Imei</th>\n              <th scope=\"col\">Name</th>\n              <th scope=\"col\">Location</th>\n              <th scope=\"col\">Mcc</th>\n              <th scope=\"col\">Owner_Name</th>\n              <th scope=\"col\">Terminal Name</th>\n              <th scope=\"col\">Status</th>\n              <th scope=\"col\">Type Id</th>\n              <th scope=\"col\">Retailer_Id</th>\n              {userInfo?.IsAdmin && <th scope=\"col-sm-1\">ACTION</th>}\n            </tr>\n          </thead>\n          <tbody>\n            {Terminal.filter((item) => {\n              if (setSearch === \"\") {\n                return item;\n              } else if (\n                item.terminal_name\n                  .toLowerCase()\n                  .includes(searching.toLowerCase()) ||\n                item.device_model\n                  .toLowerCase()\n                  .includes(searching.toLowerCase()) ||\n                item.owner_name.toLowerCase().includes(searching.toLowerCase())\n              ) {\n                return item;\n              }\n            })\n              .slice(pagesVisited, pagesVisited + PrePage)\n              .map((item) => (\n                <tr key={item.term_id}>\n                  <th scope=\"row\">{item.term_id}</th>\n                  <td>{item.currency}</td>\n                  <td>{item.device_code}</td>\n                  <td>{item.device_model}</td>\n                  <td>{item.devicesn}</td>\n                  <td>{item.imei}</td>\n                  <td>{item.km_term_name}</td>\n                  <td>{item.location}</td>\n                  <td>{item.mcc}</td>\n                  <td>{item.owner_name}</td>\n                  <td>{item.terminal_name}</td>\n                  <td>{item.terminal_status}</td>\n                  <td>{item.terminal_type_id}</td>\n                  <td>{item.retailer_id}</td>\n                  {userInfo?.IsAdmin && (\n                    <td className=\"col-sm-1\">\n                      <Icons>\n                        <Link to={`/terminal/update/${item.term_id}`}>\n                          <AiOutlineEdit className=\"Edit box\" />\n                        </Link>\n                        <AiOutlineDelete\n                          className=\"Delete box\"\n                          onClick={() => handleDeleteContent(item.term_id)}\n                        />\n                      </Icons>\n                    </td>\n                  )}\n                </tr>\n              ))}\n          </tbody>\n        </Table>\n        <Paginate>\n          <Pagination pageCount={pageCount} handlePageClick={handlePageClick} />\n        </Paginate>\n        <ToastContainer />\n      </Container>\n    </MainScreen>\n  );\n};\n\nexport default Terminal;\n"],"names":["pageCount","handlePageClick","previousLabel","marginPagesDisplayed","pageRangeDisplayed","nextLabel","onPageChange","containerClassName","pageClassName","pageLinkClassName","breakLabel","previousLinkClassName","nextLinkClassName","disabledClassName","activeClassName","previousClassName","nextClassName","breakClassName","breakLinkClassName","setSearch","searching","useState","Terminal","setTerminal","userInfo","useSelector","state","userLogin","error","setError","pageNumber","setPageNumber","pagesVisited","Math","ceil","length","getTerminals","config","headers","Authorization","token","$host","response","data","message","useEffect","handleDeleteContent","id","window","confirm","then","toast","setTimeout","catch","title","variant","IsAdmin","to","className","size","striped","bordered","hover","scope","filter","item","terminal_name","toLowerCase","includes","device_model","owner_name","slice","map","term_id","currency","device_code","devicesn","imei","km_term_name","location","mcc","terminal_status","terminal_type_id","retailer_id","onClick","selected"],"sourceRoot":""}