"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[493],{7605:function(e,n,t){t(2791);var s=t(6048),a=t.n(s),r=t(184);n.Z=function(e){var n=e.pageCount,t=e.handlePageClick;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a(),{previousLabel:"Previous",pageCount:n,marginPagesDisplayed:2,pageRangeDisplayed:3,nextLabel:"Next",onPageChange:t,containerClassName:"pagination pagination-sm justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",breakLabel:"...",previousLinkClassName:"page-link",nextLinkClassName:"page-link",disabledClassName:"paginationDisabled",activeClassName:"active",previousClassName:"page-item",nextClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link"})})}},9493:function(e,n,t){t.r(n);var s=t(5861),a=t(885),r=t(7757),i=t.n(r),c=t(2791),o=t(2426),l=t.n(o),d=t(7605),h=(t(5462),t(3504)),u=t(577),p=t(1036),x=t(8820),m=t(6030),j=t(6196),f=t(8062),g=t(3360),v=t(2591),C=t(7042),k=t(184);n.default=function(e){var n=e.setSearch,t=e.searching,r=(0,c.useState)([]),o=(0,a.Z)(r,2),N=o[0],b=o[1],T=(0,m.v9)((function(e){return e.userLogin})).userInfo,E=(0,c.useState)(""),I=(0,a.Z)(E,2),y=I[0],w=I[1];function A(){return L.apply(this,arguments)}function L(){return(L=(0,s.Z)(i().mark((function e(){var n,t,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{Authorization:"Bearer ".concat(T.token)}},e.next=4,j.y.get("/posrequests",n);case 4:t=e.sent,b(t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),s=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,w(s);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function M(){return(M=(0,s.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e \u043e\u0431\u044c\u0435\u043a\u0442 \u0431\u0435\u0437 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f?")){e.next=4;break}return t={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(T.token)}},e.next=4,j.y.delete("/posrequests/remove/".concat(n),t).then((function(){u.Am.success("C\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430!"),setTimeout((function(){A()}),1e3)})).catch((function(e){return w(e.response.data.message)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)((function(){A()}),[]);var _=(0,c.useState)(0),R=(0,a.Z)(_,2),S=R[0],Z=R[1],D=20*S,P=Math.ceil(N.length/20);return(0,k.jsx)(f.o,{title:"CKMS: \u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u044b \u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0430",children:(0,k.jsxs)(p.W2,{children:[(null===T||void 0===T?void 0:T.IsAdmin)&&(0,k.jsx)(h.rU,{to:"/posrequests/add",className:"d-flex justify-content-end",children:(0,k.jsx)(g.Z,{className:"box mb-3",size:"md",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u041d\u043e\u0432\u044b\u0439 \u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u044b \u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0430"})}),y&&(0,k.jsx)(C.X,{variant:"danger",children:y}),(0,k.jsxs)(v.Z,{className:"box",striped:!0,bordered:!0,hover:!0,size:"sm",children:[(0,k.jsx)("thead",{className:"table-dark",children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{scope:"col",children:"ID"}),(0,k.jsx)("th",{scope:"col",children:"TERM SN"}),(0,k.jsx)("th",{scope:"col",children:"TERM INN"}),(0,k.jsx)("th",{scope:"col",children:"TERM EIN"}),(0,k.jsx)("th",{scope:"col",children:"TERM RNM"}),(0,k.jsx)("th",{scope:"col",children:"TERM IMEI"}),(0,k.jsx)("th",{scope:"col",children:"OTP CODE"}),(0,k.jsx)("th",{scope:"col",children:"ACTIVE"}),(0,k.jsx)("th",{scope:"col",children:"TRANSMITTED"}),(0,k.jsx)("th",{scope:"col",children:"CREATED_AT"}),(null===T||void 0===T?void 0:T.IsAdmin)&&(0,k.jsx)("th",{scope:"col",children:"ACTION"})]})}),(0,k.jsx)("tbody",{children:N.filter((function(e){return""===n||e.term_inn.toString().toLowerCase().includes(t.toString().toLowerCase())?e:void 0})).slice(D,D+20).map((function(e){return(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{scope:"row",children:e.id}),(0,k.jsx)("td",{children:e.term_sn}),(0,k.jsx)("td",{children:e.term_inn}),(0,k.jsx)("td",{children:e.term_ein}),(0,k.jsx)("td",{children:e.term_rnm}),(0,k.jsx)("td",{children:e.term_imei}),(0,k.jsx)("td",{children:e.otp_code}),(0,k.jsx)("td",{children:e.active}),(0,k.jsx)("td",{children:e.transmitted}),(0,k.jsx)("td",{children:l()(e.created_at).format("llll")}),(null===T||void 0===T?void 0:T.IsAdmin)&&(0,k.jsx)("td",{className:"col-sm-1",children:(0,k.jsx)(p.PJ,{children:(0,k.jsx)(x.VPh,{className:"Delete box",onClick:function(){return function(e){return M.apply(this,arguments)}(e.id)}})})})]},e.id)}))})]}),(0,k.jsx)(p._p,{children:(0,k.jsx)(d.Z,{pageCount:P,handlePageClick:function(e){var n=e.selected;Z(n)}})}),(0,k.jsx)(u.Ix,{})]})})}}}]);
//# sourceMappingURL=493.1632757e.chunk.js.map