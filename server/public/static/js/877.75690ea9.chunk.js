"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[877],{7605:function(e,n,s){s(2791);var t=s(6048),a=s.n(t),r=s(184);n.Z=function(e){var n=e.pageCount,s=e.handlePageClick;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a(),{previousLabel:"Previous",pageCount:n,marginPagesDisplayed:2,pageRangeDisplayed:3,nextLabel:"Next",onPageChange:s,containerClassName:"pagination pagination-sm justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",breakLabel:"...",previousLinkClassName:"page-link",nextLinkClassName:"page-link",disabledClassName:"paginationDisabled",activeClassName:"active",previousClassName:"page-item",nextClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link"})})}},6877:function(e,n,s){s.r(n);var t=s(5861),a=s(885),r=s(7757),i=s.n(r),c=s(2791),l=s(7605),o=(s(5462),s(8820)),d=s(3504),h=s(577),u=s(1036),m=s(6030),p=s(3360),x=s(2591),j=s(8062),f=s(7042),v=s(6196),g=s(184);n.default=function(e){var n=e.setSearch,s=e.searching,r=(0,c.useState)([]),C=(0,a.Z)(r,2),k=C[0],N=C[1],b=(0,m.v9)((function(e){return e.userLogin})).userInfo,_=(0,c.useState)(""),w=(0,a.Z)(_,2),L=w[0],y=w[1],I=(0,c.useState)(0),Z=(0,a.Z)(I,2),A=Z[0],P=Z[1],D=20*A,z=Math.ceil(k.length/20);function S(){return M.apply(this,arguments)}function M(){return(M=(0,t.Z)(i().mark((function e(){var n,s,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{Authorization:"Bearer ".concat(b.token)}},e.next=4,v.y.get("/favri/terminal",n);case 4:s=e.sent,N(s.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,y(t);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}(0,c.useEffect)((function(){S()}),[]);var T=function(){var e=(0,t.Z)(i().mark((function e(n){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e \u043e\u0431\u044c\u0435\u043a\u0442 \u0431\u0435\u0437 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f?")){e.next=4;break}return s={headers:{Authorization:"Bearer ".concat(b.token)}},e.next=4,v.y.delete("/favri/terminal/remove/".concat(n),s).then((function(){h.Am.success("C\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430!"),setTimeout((function(){S()}),1e3)})).catch((function(e){return y(e.response.data.message)}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,g.jsx)(j.o,{title:"KM: \u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b",children:(0,g.jsxs)(u.W2,{children:[L&&(0,g.jsx)(f.X,{variant:"danger",children:L}),(null===b||void 0===b?void 0:b.IsAdmin)&&(0,g.jsx)(d.rU,{to:"/terminal/add",className:"d-flex justify-content-end",children:(0,g.jsx)(p.Z,{className:"box mb-3",size:"md",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u041d\u043e\u0432\u044b\u0439 \u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b"})}),(0,g.jsxs)(x.Z,{className:"box",striped:!0,bordered:!0,hover:!0,size:"sm",children:[(0,g.jsx)("thead",{className:"table-dark",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{scope:"col",children:"ID"}),(0,g.jsx)("th",{scope:"col",children:"Currency"}),(0,g.jsx)("th",{scope:"col",children:"Code"}),(0,g.jsx)("th",{scope:"col",children:"Model"}),(0,g.jsx)("th",{scope:"col",children:"Devicesn"}),(0,g.jsx)("th",{scope:"col",children:"Imei"}),(0,g.jsx)("th",{scope:"col",children:"Name"}),(0,g.jsx)("th",{scope:"col",children:"Location"}),(0,g.jsx)("th",{scope:"col",children:"Mcc"}),(0,g.jsx)("th",{scope:"col",children:"Owner_Name"}),(0,g.jsx)("th",{scope:"col",children:"Terminal Name"}),(0,g.jsx)("th",{scope:"col",children:"Status"}),(0,g.jsx)("th",{scope:"col",children:"Type Id"}),(0,g.jsx)("th",{scope:"col",children:"Retailer_Id"}),(null===b||void 0===b?void 0:b.IsAdmin)&&(0,g.jsx)("th",{scope:"col-sm-1",children:"ACTION"})]})}),(0,g.jsx)("tbody",{children:k.filter((function(e){return""===n||e.terminal_name.toLowerCase().includes(s.toLowerCase())||e.device_model.toLowerCase().includes(s.toLowerCase())||e.owner_name.toLowerCase().includes(s.toLowerCase())?e:void 0})).slice(D,D+20).map((function(e){return(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{scope:"row",children:e.term_id}),(0,g.jsx)("td",{children:e.currency}),(0,g.jsx)("td",{children:e.device_code}),(0,g.jsx)("td",{children:e.device_model}),(0,g.jsx)("td",{children:e.devicesn}),(0,g.jsx)("td",{children:e.imei}),(0,g.jsx)("td",{children:e.km_term_name}),(0,g.jsx)("td",{children:e.location}),(0,g.jsx)("td",{children:e.mcc}),(0,g.jsx)("td",{children:e.owner_name}),(0,g.jsx)("td",{children:e.terminal_name}),(0,g.jsx)("td",{children:e.terminal_status}),(0,g.jsx)("td",{children:e.terminal_type_id}),(0,g.jsx)("td",{children:e.retailer_id}),(null===b||void 0===b?void 0:b.IsAdmin)&&(0,g.jsx)("td",{className:"col-sm-1",children:(0,g.jsxs)(u.PJ,{children:[(0,g.jsx)(d.rU,{to:"/terminal/update/".concat(e.term_id),children:(0,g.jsx)(o.$iz,{className:"Edit box"})}),(0,g.jsx)(o.VPh,{className:"Delete box",onClick:function(){return T(e.term_id)}})]})})]},e.term_id)}))})]}),(0,g.jsx)(u._p,{children:(0,g.jsx)(l.Z,{pageCount:z,handlePageClick:function(e){var n=e.selected;P(n)}})}),(0,g.jsx)(h.Ix,{})]})})}}}]);
//# sourceMappingURL=877.75690ea9.chunk.js.map